(this["webpackJsonponline-asset-management"]=this["webpackJsonponline-asset-management"]||[]).push([[1],{119:function(t,e,n){},120:function(t,e,n){"use strict";n.r(e);var c,r=n(0),a=n(18),i=n.n(a),o=n(28),s=n(37),u=n.n(s),l=n(42),d=n(72),b=n(23),j=n(32),O=n(78),h=n(14),f=n(69),v=n(17),x=n.n(v),p=n(16),g=2,m=n(75),k=n(48),y=n(49),w=n(76),A=null!==(c="http://localhost:3000")?c:"http://localhost:3000",N={redirect_uri:"".concat(A,"/authentication/login-callback"),post_logout_redirect_uri:"".concat(A,"/authentication/logout-callback")},S={authority:"https://localhost:44341",client_id:"admin",redirect_uri:N.redirect_uri,post_logout_redirect_uri:N.post_logout_redirect_uri,response_type:"id_token token",scope:"rookieshop.api openid profile offline_access",automaticSilentRenew:!0,includeIdTokenInSilentRenew:!0},_=new(function(){function t(){Object(k.a)(this,t),this.userManager=void 0,this.userManager=new w.UserManager(S)}return Object(y.a)(t,[{key:"getUserAsync",value:function(){return this.userManager.getUser()}},{key:"loginAsync",value:function(){return this.userManager.signinRedirect({state:location.hash})}},{key:"completeLoginAsync",value:function(t){return this.userManager.signinRedirectCallback(t)}},{key:"renewTokenAsync",value:function(){return this.userManager.signinSilent()}},{key:"logoutAsync",value:function(){return this.userManager.signoutRedirect()}},{key:"completeLogoutAsync",value:function(){var t=Object(m.a)(x.a.mark((function t(e){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userManager.signoutRedirectCallback(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}());function B(){return _.loginAsync()}function C(){return _.completeLoginAsync(window.location.href)}function R(){return _.getUserAsync()}function M(){return _.logoutAsync()}function I(){return _.completeLogoutAsync(window.location.href)}var U=x.a.mark(F),L=x.a.mark(J),z=x.a.mark(D),H=x.a.mark(E),T=x.a.mark(q);function F(){var t,e,n,c;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.a)(B);case 3:return t=r.sent,e=t.data,r.next=7,Object(p.b)(Object(h.h)(e));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(0),c=null===r.t0||void 0===r.t0||null===(n=r.t0.response)||void 0===n?void 0:n.data,r.next=14,Object(p.b)(Object(h.i)({status:g,error:c}));case 14:case"end":return r.stop()}}),U,null,[[0,9]])}function J(){var t,e,n;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(p.a)(C);case 3:return t=c.sent,c.next=6,Object(p.b)(Object(h.h)(t));case 6:c.next=13;break;case 8:return c.prev=8,c.t0=c.catch(0),n=null===c.t0||void 0===c.t0||null===(e=c.t0.response)||void 0===e?void 0:e.data,c.next=13,Object(p.b)(Object(h.i)({status:g,error:n}));case 13:case"end":return c.stop()}}),L,null,[[0,8]])}function D(){var t,e,n;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(p.a)(R);case 3:if(!(null===(t=c.sent)||void 0===t?void 0:t.access_token)){c.next=7;break}return c.next=7,Object(p.b)(Object(h.h)(t));case 7:c.next=15;break;case 9:return c.prev=9,c.t0=c.catch(0),console.log(c.t0),n=null===c.t0||void 0===c.t0||null===(e=c.t0.response)||void 0===e?void 0:e.data,c.next=15,Object(p.b)(Object(h.i)({status:g,error:n}));case 15:case"end":return c.stop()}}),z,null,[[0,9]])}function E(){var t,e;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.a)(M);case 3:n.next=10;break;case 5:return n.prev=5,n.t0=n.catch(0),e=null===n.t0||void 0===n.t0||null===(t=n.t0.response)||void 0===t?void 0:t.data,n.next=10,Object(p.b)(Object(h.i)({status:g,error:e}));case 10:case"end":return n.stop()}}),H,null,[[0,5]])}function q(){var t,e;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.a)(I);case 3:n.next=10;break;case 5:return n.prev=5,n.t0=n.catch(0),e=null===n.t0||void 0===n.t0||null===(t=n.t0.response)||void 0===t?void 0:t.data,n.next=10,Object(p.b)(Object(h.i)({status:g,error:e}));case 10:case"end":return n.stop()}}),T,null,[[0,5]])}var G=x.a.mark(K);function K(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.c)(h.c.type,F);case 2:return t.next=4,Object(p.c)(h.g.type,D);case 4:return t.next=6,Object(p.c)(h.e.type,E);case 6:return t.next=8,Object(p.c)(h.d.type,J);case 8:return t.next=10,Object(p.c)(h.f.type,q);case 10:case"end":return t.stop()}}),G)}var P=[K],Q=Object(b.b)({authReducer:h.b,brandReducer:f.a}),V=Object(O.a)(),W=Object(j.a)({reducer:Q,middleware:[].concat(Object(d.a)(Object(j.c)({thunk:!1,serializableCheck:!1})),[V])});P.map((function(t){return V.run(t)}));var X=W,Y=n(12),Z=n(22),$=n(3),tt=function(){return Object(r.useEffect)((function(){return u.a.start(),function(){u.a.done()}})),Object($.jsx)($.Fragment,{})},et=n(29),nt=n(7),ct=n(79),rt=n(77),at=n(73),it=n(47),ot=function(){var t=Object(et.b)((function(t){return t.authReducer})).account;return Object($.jsxs)("div",{className:"nav-left mb-5",children:[Object($.jsx)("img",{src:"/images/Logo_lk.png",alt:"logo"}),Object($.jsx)("p",{className:"brand intro-x",children:"Admin Dashboard"}),Object($.jsx)(o.c,{className:"navItem intro-x",exact:!0,to:Z.d,children:Object($.jsx)("button",{className:"btnCustom",children:"Home"})}),(null===t||void 0===t?void 0:t.profile.role)===it.a.Admin&&Object($.jsxs)("div",{className:"",children:[Object($.jsx)(o.c,{className:"navItem intro-x",to:Z.e,children:Object($.jsx)("button",{className:"btnCustom",children:"Manage User"})}),Object($.jsx)(o.c,{className:"navItem intro-x",to:Z.b,children:Object($.jsx)("button",{className:"btnCustom",children:"Manage Brand"})})]})]})},st=function(t){var e=t.children;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(rt.NotificationContainer,{}),Object($.jsx)(at.a,{}),Object($.jsx)("div",{className:"container-lg-min container-fluid",children:Object($.jsxs)("div",{className:"row mt-5",children:[Object($.jsx)("div",{className:"col-lg-2 col-md-4 col-12 mr-5",children:Object($.jsx)(ot,{})}),Object($.jsx)("div",{className:"col-lg-9 col-md-7 ms-5",children:e})]})})]})},ut=["children"];function lt(t){var e=t.children,n=Object(ct.a)(t,ut);return Object($.jsx)(Y.a,Object(nt.a)(Object(nt.a)({},n),{},{children:Object($.jsx)(r.Suspense,{fallback:Object($.jsx)(tt,{}),children:Object($.jsx)(st,{children:e})})}))}var dt=Object(r.lazy)((function(){return n.e(8).then(n.bind(null,131))})),bt=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,132))})),jt=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,133))})),Ot=Object(r.lazy)((function(){return n.e(0).then(n.bind(null,128))})),ht=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,134))})),ft=function(t){var e=t.children;return Object($.jsx)(r.Suspense,{fallback:Object($.jsx)(tt,{}),children:e})},vt=function(){var t=Object(et.b)((function(t){return t.authReducer})),e=t.isAuth,n=(t.account,Object(et.a)());return Object(r.useEffect)((function(){n(Object(h.g)())}),[]),e?Object($.jsx)(ft,{children:Object($.jsxs)(Y.c,{children:[Object($.jsx)(lt,{exact:!0,path:Z.d,children:Object($.jsx)(dt,{})}),Object($.jsx)(lt,{path:Z.a,children:Object($.jsx)(ht,{})}),Object($.jsx)(lt,{path:Z.b,children:Object($.jsx)(jt,{})}),Object($.jsx)(Y.a,{component:Ot})]})}):Object($.jsx)(ft,{children:Object($.jsxs)(Y.c,{children:[Object($.jsx)(Y.a,{exact:!0,path:Z.d,children:Object($.jsx)(bt,{})}),Object($.jsx)(lt,{path:Z.a,children:Object($.jsx)(ht,{})})]})})};n(115),n(116),n(117),n(118),n(119);function xt(){return Object($.jsx)(l.a,{store:X,children:Object($.jsx)(o.a,{children:Object($.jsx)(vt,{})})})}u.a.configure({minimum:1});var pt=document.getElementById("root");i.a.render(Object($.jsx)(xt,{}),pt)},14:function(t,e,n){"use strict";n.d(e,"h",(function(){return f})),n.d(e,"c",(function(){return v})),n.d(e,"i",(function(){return x})),n.d(e,"g",(function(){return p})),n.d(e,"e",(function(){return g})),n.d(e,"a",(function(){return m})),n.d(e,"d",(function(){return k})),n.d(e,"f",(function(){return y}));var c=n(7),r=n(32),a=n(47),i=n(48),o=n(49),s=n(74),u=n.n(s),l={baseURL:"/"},d=new(function(){function t(){Object(i.a)(this,t),this.axios=void 0,this.axios=u.a.create(l)}return Object(o.a)(t,[{key:"setAuthentication",value:function(t){this.axios.defaults.headers.common.Authorization="Bearer ".concat(t)}}]),t}()),b=function(t){try{var e=localStorage.getItem(t);return null===e?"":JSON.parse(e)}catch(n){return}}("token"),j={isAuth:!!b,loading:!1},O=Object(r.b)({name:"auth",initialState:j,reducers:{setAccount:function(t,e){var n,r=e.payload;return(null===r||void 0===r||null===(n=r.profile)||void 0===n?void 0:n.role)===a.a.Admin&&(null===r||void 0===r?void 0:r.access_token)?(function(t,e){try{var n=JSON.stringify(e);localStorage.setItem(t,n)}catch(c){}}("token",null===r||void 0===r?void 0:r.access_token),d.setAuthentication(null===r||void 0===r?void 0:r.access_token),Object(c.a)(Object(c.a)({},t),{},{account:r,isAuth:!0,loading:!1})):Object(c.a)(Object(c.a)({},t),{},{account:r,isAuth:!0,loading:!1})},setStatus:function(t,e){var n=e.payload,r=n.status,a=n.error;return Object(c.a)(Object(c.a)({},t),{},{status:r,error:a,loading:!1})},me:function(t){b&&d.setAuthentication(b)},login:function(t){return Object(c.a)(Object(c.a)({},t),{},{loading:!0})},logout:function(t){var e;return e="token",localStorage.removeItem(e),d.setAuthentication(""),Object(c.a)(Object(c.a)({},t),{},{isAuth:!1,account:void 0,status:void 0})},cleanUp:function(t){return Object(c.a)(Object(c.a)({},t),{},{loading:!1,status:void 0,error:void 0})},loginCallback:function(t){return Object(c.a)(Object(c.a)({},t),{},{loading:!1})},logoutCallback:function(t){return Object(c.a)(Object(c.a)({},t),{},{loading:!1})}}}),h=O.actions,f=h.setAccount,v=h.login,x=h.setStatus,p=h.me,g=h.logout,m=h.cleanUp,k=h.loginCallback,y=h.logoutCallback;e.b=O.reducer},22:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o}));var c="/authentication/:action",r="/",a="/user",i="/brand",o=function(t){return"/brand/edit/".concat(t)}},29:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var c=n(42),r=function(){return Object(c.b)()},a=c.c},47:function(t,e,n){"use strict";e.a={Admin:"Administrator",Staff:"STAFF"}},69:function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var c=n(7),r=n(32),a=Object(r.b)({name:"home",initialState:{brands:null,loading:!1,disable:!1},reducers:{getBrands:function(t,e){return Object(c.a)(Object(c.a)({},t),{},{loading:!0})},setBrands:function(t,e){var n=e.payload;return Object(c.a)(Object(c.a)({},t),{},{brands:n,loading:!1})},createBrand:function(t,e){return Object(c.a)(Object(c.a)({},t),{},{loading:!0})},updateBrand:function(t,e){return Object(c.a)(Object(c.a)({},t),{},{loading:!0})},disableBrand:function(t,e){return Object(c.a)(Object(c.a)({},t),{},{loading:!0})},setBrand:function(t,e){var n=e.payload;return Object(c.a)(Object(c.a)({},t),{},{brandResult:n,loading:!1})},setStatus:function(t,e){var n=e.payload,r=n.status,a=n.error;return Object(c.a)(Object(c.a)({},t),{},{status:r,error:a,loading:!1})},cleanUp:function(t){return Object(c.a)(Object(c.a)({},t),{},{loading:!1,brandResult:void 0,status:void 0,error:void 0})}}}),i=a.actions,o=(i.createBrand,i.setBrand,i.setStatus,i.cleanUp,i.getBrands);i.setBrands,i.updateBrand,i.disableBrand;e.a=a.reducer},73:function(t,e,n){"use strict";var c=n(56),r=n(0),a=n.n(r),i=n(125),o=n(12),s=n(126),u=n(3),l=function(t){var e=t.title,n=t.isShow,c=t.onHide,r=t.children;return Object(u.jsxs)(s.a,{show:n,onHide:c,dialogClassName:"modal-90w","aria-labelledby":"login-modal",children:[Object(u.jsx)(s.a.Header,{closeButton:!0,children:Object(u.jsx)(s.a.Title,{id:"login-modal",children:e})}),Object(u.jsx)(s.a.Body,{children:r})]})},d=n(22),b=n(29),j=n(14),O=a.a.forwardRef((function(t,e){var n=t.children,c=t.onClick;return Object(u.jsxs)("a",{className:"btn btn-link dropdownButton",ref:e,onClick:function(t){t.preventDefault(),c(t)},children:[n," ",Object(u.jsx)("span",{children:"\u25bc"})]})}));e.a=function(){var t,e=Object(o.f)(),n=Object(o.g)().pathname,a=Object(b.b)((function(t){return t.authReducer})).account,s=Object(b.a)(),h=Object(r.useState)(!1),f=Object(c.a)(h,2),v=(f[0],f[1],Object(r.useState)(!1)),x=Object(c.a)(v,2),p=x[0],g=x[1],m=function(){g(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"header align-items-center font-weight-bold",children:Object(u.jsxs)("div",{className:"container-lg-min container-fluid d-flex pt-2",children:[Object(u.jsx)("p",{className:"headText",children:"".concat(function(){var t=n.split("/");return t.shift(),t.join(" > ").toString()||"Home"}())}),Object(u.jsx)("div",{className:"ml-auto text-white",children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)(i.a.Toggle,{as:O,children:null===a||void 0===a||null===(t=a.profile)||void 0===t?void 0:t.name}),Object(u.jsx)(i.a.Menu,{children:Object(u.jsx)(i.a.Item,{onClick:function(){g(!0)},children:"Logout"})})]})})]})}),Object(u.jsx)(l,{title:"Are you sure",isShow:p,onHide:m,children:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"text-center",children:"Do you want to log out?"}),Object(u.jsxs)("div",{className:"text-center mt-3",children:[Object(u.jsx)("button",{className:"btn btn-danger mr-3",onClick:function(){e.push(d.d),s(Object(j.e)())},type:"button",children:"Log out"}),Object(u.jsx)("button",{className:"btn btn-outline-secondary",onClick:m,type:"button",children:"Cancel"})]})]})})]})}}},[[120,2,3]]]);
//# sourceMappingURL=main.2498be2c.chunk.js.map